#!/system/bin/sh

# ========================================
# ULTIMATE 144Hz + Super AMOLED Color Force
# Tecno Camon 40 Pro 5G (MTK Dimensity 7300)
# 6.78" AMOLED 144Hz Display
# Non-Rooted Device Optimized
# ========================================
# Version: 5.0 - Android 15 + Persistent Props
# Display ID: 0, Mode ID: 2 (144.00002 Hz)
# Resolution: 1080x2436, ~393ppi
# Color: Super AMOLED Vivid (Persistent)
# System Properties: 40+ Persistent Props
# ========================================

echo "=========================================="
echo "Tecno Camon 40 Pro 5G"
echo "144Hz + SUPER AMOLED COLOR FORCE v5.0"
echo "Android 15 + Persistent Properties"
echo "=========================================="
echo ""
echo "Display: 6.78\" AMOLED 144Hz"
echo "Chipset: MTK Dimensity 7300"
echo "Target: 144Hz + Samsung-like Colors"
echo "Properties: 40+ Persistent setprop"
echo ""

# Check if running on device
if [ ! -f /system/build.prop ]; then
    echo "âŒ ERROR: Must run on Android device"
    echo "Use Terminal Emulator (Termux, etc.)"
    exit 1
fi

# Function to execute commands with feedback
execute_cmd() {
    local cmd="$1"
    local desc="$2"
    echo "[+] $desc"
    eval "$cmd" 2>/dev/null
    sleep 0.3
    if [ $? -eq 0 ]; then
        echo "    âœ“ Applied"
    else
        echo "    âš  May need root (will retry)"
    fi
}

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 1: CURRENT STATUS CHECK"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "[*] Reading current display configuration..."
echo ""
echo "Current Settings:"
echo "â”œâ”€ Peak Refresh Rate: $(settings get system peak_refresh_rate 2>/dev/null || echo 'N/A')"
echo "â”œâ”€ Min Refresh Rate: $(settings get system min_refresh_rate 2>/dev/null || echo 'N/A')"
echo "â”œâ”€ Color Mode: $(settings get system screen_color_mode 2>/dev/null || echo 'N/A')"
echo "â””â”€ Display Color Mode: $(settings get system display_color_mode 2>/dev/null || echo 'N/A')"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 2: SUPER AMOLED COLOR FORCING"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[1/45] ğŸ¨ Forcing Vivid/Saturated Colors..."
execute_cmd "settings put system screen_color_mode 0" "Screen color â†’ Vivid (0)"
execute_cmd "settings put system screen_color_mode_value 0" "Color mode value â†’ 0"
execute_cmd "settings put secure screen_color_mode 0" "Secure color â†’ Vivid"
echo ""

echo "[2/45] ğŸŒˆ Setting Wide Color Gamut..."
execute_cmd "settings put system display_color_mode 2" "Display color â†’ Wide (2)"
execute_cmd "settings put global display_color_mode 2" "Global color â†’ Wide"
execute_cmd "settings put system display_color_mode_vendor 256" "Vendor color â†’ 256"
echo ""

echo "[3/45] ğŸ¯ DCI-P3 Color Space (Samsung-like)..."
execute_cmd "settings put system color_mode_dci_p3 1" "DCI-P3 â†’ ON"
execute_cmd "settings put global hwui_use_wide_color_mode 1" "Wide color HWUI â†’ ON"
execute_cmd "settings put system persist.sys.sf.color_saturation 1.15" "Color saturation â†’ 115%"
execute_cmd "setprop persist.sys.sf.color_saturation 1.15" "Persist color sat â†’ 115%"
execute_cmd "setprop persist.sys.sf.color_mode 9" "Persist color mode â†’ 9"
echo ""

echo "[4/45] ğŸ’ Color Enhancement Settings..."
execute_cmd "settings put system color_enhancement 1" "Enhancement â†’ ON"
execute_cmd "settings put system screen_color_enhancement 1" "Screen enhance â†’ ON"
execute_cmd "settings put system display_color_enhance 2" "Display enhance â†’ Max"
echo ""

echo "[5/45] ğŸ”¥ Super Vivid Mode (Samsung Style)..."
execute_cmd "settings put system display_color_mode_saturated 1" "Saturated â†’ ON"
execute_cmd "settings put system color_saturation_mode 2" "Saturation â†’ High (2)"
execute_cmd "settings put system vivid_color_mode 1" "Vivid mode â†’ ON"
echo ""

echo "[6/45] ğŸŒŸ MTK Color Engine..."
execute_cmd "settings put system mtk_pq_color_mode 2" "MTK PQ color â†’ Vivid"
execute_cmd "settings put system mtk_color_engine 1" "MTK color â†’ ON"
execute_cmd "settings put system mtk_aal_support 1" "MTK AAL â†’ ON"
execute_cmd "settings put system mtk_ultra_dimming 0" "Ultra dimming â†’ OFF"
echo ""

echo "[7/45] ğŸ¨ Color Temperature (Cool/Warm)..."
execute_cmd "settings put system color_temperature 6500" "Temp â†’ 6500K (neutral)"
execute_cmd "settings put system screen_color_temperature 0" "Screen temp â†’ Standard"
execute_cmd "settings put system night_mode 0" "Night mode â†’ OFF"
echo ""

echo "[8/45] ğŸ“± Tecno Color Settings..."
execute_cmd "settings put system tecno_color_mode 2" "Tecno color â†’ Vivid (2)"
execute_cmd "settings put system tecno_display_enhancement 1" "Tecno enhance â†’ ON"
execute_cmd "settings put system tecno_vivid_display 1" "Tecno vivid â†’ ON"
echo ""

echo "[9/45] ğŸ–¼ï¸ HDR & Wide Color Support..."
execute_cmd "settings put global hwui_hdr_support 1" "HDR support â†’ ON"
execute_cmd "settings put system force_hdr 1" "Force HDR â†’ ON"
execute_cmd "setprop persist.sys.sf.native_mode 2" "Native mode â†’ Wide color"
execute_cmd "setprop ro.surface_flinger.use_color_management 1" "SF color mgmt â†’ ON"
execute_cmd "setprop ro.surface_flinger.has_wide_color_display 1" "Wide display â†’ ON"
execute_cmd "setprop ro.surface_flinger.has_HDR_display 1" "HDR display â†’ ON"
execute_cmd "setprop ro.surface_flinger.use_content_detection_for_refresh_rate 0" "Content detect â†’ OFF"
echo ""

echo "[10/45] ğŸ­ Disabling Color Filters..."
execute_cmd "settings put secure accessibility_display_inversion_enabled 0" "Invert â†’ OFF"
execute_cmd "settings put secure accessibility_display_daltonizer_enabled 0" "Daltonizer â†’ OFF"
execute_cmd "settings put system high_contrast 0" "High contrast â†’ OFF"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 3: CORE 144Hz SETTINGS"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[11/45] Setting peak refresh rate to 144Hz..."
execute_cmd "settings put system peak_refresh_rate 144.0" "Peak â†’ 144.0 Hz"
execute_cmd "settings put system peak_refresh_rate 144.00002" "Peak â†’ 144.00002 Hz (exact)"
execute_cmd "settings put global peak_refresh_rate 144.0" "Global peak â†’ 144.0 Hz"
echo ""

echo "[12/45] Setting minimum refresh rate to 144Hz..."
execute_cmd "settings put system min_refresh_rate 144.0" "Min â†’ 144.0 Hz"
execute_cmd "settings put system min_refresh_rate 144.00002" "Min â†’ 144.00002 Hz (exact)"
execute_cmd "settings put global min_refresh_rate 144.0" "Global min â†’ 144.0 Hz"
echo ""

echo "[13/45] Forcing user-preferred refresh rate..."
execute_cmd "settings put system user_refresh_rate 144" "User rate â†’ 144 Hz"
execute_cmd "settings put system user_refresh_rate 144.0" "User rate â†’ 144.0 Hz"
execute_cmd "settings put system user_refresh_rate 144.00002" "User rate â†’ 144.00002 Hz"
echo ""

echo "[14/45] Setting display mode ID to Mode 2 (144Hz)..."
execute_cmd "cmd display set-user-preferred-display-mode 0 2" "Display mode â†’ Mode 2"
execute_cmd "settings put system display_mode_forced 2" "Forced mode â†’ 2"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 4: DISABLE ADAPTIVE/DYNAMIC MODES"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[15/45] Disabling adaptive refresh rate..."
execute_cmd "settings put system adaptive_refresh_rate 0" "Adaptive RR â†’ OFF"
execute_cmd "settings put global adaptive_refresh_rate 0" "Global adaptive â†’ OFF"
execute_cmd "settings put system smart_refresh_rate 0" "Smart RR â†’ OFF"
echo ""

echo "[16/45] Disabling dynamic FPS switching..."
execute_cmd "settings put system dynamic_fps_enable 0" "Dynamic FPS â†’ OFF"
execute_cmd "settings put system display.disable_dynamic_fps 1" "Disable dynamic â†’ ON"
execute_cmd "settings put global dynamic_refresh_rate 0" "Global dynamic â†’ OFF"
echo ""

echo "[17/45] Setting refresh rate mode to fixed..."
execute_cmd "settings put secure refresh_rate_mode 2" "RR mode â†’ Fixed (2)"
execute_cmd "settings put system refresh_rate_mode 2" "System RR mode â†’ 2"
execute_cmd "settings put system screen_refresh_rate_setting 2" "RR setting â†’ Max (2)"
echo ""

echo "[18/45] Disabling power-saving FPS modes..."
execute_cmd "settings put system power_save_refresh_rate 0" "Power save RR â†’ OFF"
execute_cmd "settings put global low_power_refresh_rate 144" "Low power RR â†’ 144"
execute_cmd "settings put system battery_saver_refresh_rate 144" "Battery saver â†’ 144"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 5: MTK DIMENSITY 7300 SPECIFIC"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[19/45] Configuring MTK display settings..."
execute_cmd "settings put system mtk_pq_refresh_rate 144" "MTK PQ â†’ 144 Hz"
execute_cmd "settings put system mtk_display_mode 2" "MTK mode â†’ 2"
execute_cmd "settings put system mtk_high_refresh_rate 1" "MTK high RR â†’ ON"
echo ""

echo "[20/45] Setting MTK performance mode..."
execute_cmd "settings put system mtk_perf_mode 1" "MTK performance â†’ ON"
execute_cmd "settings put system mtk_fps_cap 144" "MTK FPS cap â†’ 144"
execute_cmd "settings put system mtk_vsync_144 1" "MTK VSync 144 â†’ ON"
echo ""

echo "[21/45] Configuring MTK frame rate..."
execute_cmd "settings put global refresh_rate_switch 144" "MTK RR switch â†’ 144"
execute_cmd "settings put system fps_divisor 1" "FPS divisor â†’ 1"
execute_cmd "settings put system mtk_game_mode_fps 144" "Game mode FPS â†’ 144"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 6: ANDROID 15 SPECIFIC SETTINGS"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[22/45] Android 15 display refresh settings..."
execute_cmd "settings put system display_refresh_rate 144.0" "Display RR â†’ 144.0"
execute_cmd "settings put system screen_refresh_rate 144" "Screen RR â†’ 144"
execute_cmd "settings put global window_refresh_rate 144" "Window RR â†’ 144"
echo ""

echo "[23/45] Android 15 frame rate API..."
execute_cmd "settings put system preferred_refresh_rate 144.0" "Preferred RR â†’ 144.0"
execute_cmd "settings put global game_default_frame_rate 144" "Game default â†’ 144"
execute_cmd "settings put system surface_flinger_max_frame_rate 144" "SF max â†’ 144"
echo ""

echo "[24/45] Setting optimal refresh rate..."
execute_cmd "settings put system display.enable_optimal_refresh_rate 1" "Optimal RR â†’ ON"
execute_cmd "settings put system display.low_framerate_limit 144" "Low limit â†’ 144"
execute_cmd "settings put system display.high_framerate_limit 144" "High limit â†’ 144"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 7: VENDOR & HARDWARE LAYER"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[25/45] Setting vendor display properties..."
execute_cmd "settings put system vendor.display.refresh_rate 144" "Vendor RR â†’ 144"
execute_cmd "settings put system vendor.display.idle_default_fps 144" "Vendor idle â†’ 144"
execute_cmd "settings put system vendor.display.active_mode_id 2" "Vendor mode â†’ 2"
echo ""

echo "[26/45] Hardware composer settings..."
execute_cmd "settings put system hwcomposer.max_fps 144" "HWC max FPS â†’ 144"
execute_cmd "settings put system hwc.refresh_rate 144" "HWC RR â†’ 144"
echo ""

echo "[27/45] Setting system properties..."
execute_cmd "setprop debug.sf.frame_rate_multiple_threshold 144" "SF threshold â†’ 144"
execute_cmd "setprop vendor.display.idle_time_ms 0" "Idle time â†’ 0"
execute_cmd "setprop debug.sf.max_frame_rate 144" "SF max rate â†’ 144"
execute_cmd "setprop persist.vendor.color.matrix 9" "Color matrix â†’ 9"
execute_cmd "setprop persist.sys.sf.color_saturation 1.15" "Persist saturation"
execute_cmd "setprop persist.sys.sf.native_mode 2" "Persist native mode"
execute_cmd "setprop ro.vendor.colorpick_adjust 1" "Color pick â†’ ON"
execute_cmd "setprop persist.vendor.display.color.mode 2" "Vendor color â†’ Vivid"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 8: VSYNC & FRAME TIMING"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[28/45] Configuring VSync for 144Hz..."
execute_cmd "setprop debug.sf.hw 1" "SF hardware â†’ ON"
execute_cmd "setprop debug.egl.hw 1" "EGL hardware â†’ ON"
execute_cmd "setprop debug.sf.vsync_rate 144" "VSync rate â†’ 144"
echo ""

echo "[29/45] Setting frame interval..."
execute_cmd "setprop debug.choreographer.vsync 6944444" "Choreographer â†’ 144Hz"
execute_cmd "setprop debug.sf.phase_offset_ns 0" "Phase offset â†’ 0"
echo ""

echo "[30/45] Optimizing buffer queue..."
execute_cmd "setprop debug.sf.latch_unsignaled 1" "Latch unsignaled â†’ ON"
execute_cmd "setprop debug.sf.disable_backpressure 1" "Disable backpressure"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 9: GPU & RENDERING OPTIMIZATION"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[31/45] Forcing GPU rendering..."
execute_cmd "setprop debug.composition.type gpu" "Composition â†’ GPU"
execute_cmd "setprop persist.sys.ui.hw 1" "UI hardware â†’ ON"
execute_cmd "setprop debug.hwui.renderer skiagl" "Renderer â†’ SkiaGL"
execute_cmd "setprop debug.renderengine.backend skiaglthreaded" "Backend â†’ SkiaGL"
execute_cmd "setprop debug.hwui.use_buffer_age false" "Buffer age â†’ OFF"
execute_cmd "setprop persist.sys.force_highendgfx 1" "High-end GFX â†’ ON"
echo ""

echo "[32/45] Mali GPU optimization..."
execute_cmd "setprop ro.mali.max_freq 1000000" "Mali max freq"
execute_cmd "setprop debug.mali.fps 144" "Mali FPS â†’ 144"
execute_cmd "setprop persist.vendor.gpu.performance.max 1" "GPU perf max â†’ ON"
execute_cmd "setprop persist.sys.gpu.working_freq 1000000" "GPU freq â†’ Max"
echo ""

echo "[33/45] GPU frame pacing..."
execute_cmd "setprop debug.gpuframelimit 144" "GPU limit â†’ 144"
execute_cmd "setprop debug.hwui.target_cpu_time_percent 100" "CPU time â†’ 100%"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 10: GAME & APP OPTIMIZATION"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[34/45] Game mode settings..."
execute_cmd "settings put system game_mode_refresh_rate 144" "Game mode â†’ 144"
execute_cmd "settings put system game_fps_override 144" "Game FPS â†’ 144"
execute_cmd "settings put global game_driver_max_frame_rate 144" "Game driver â†’ 144"
echo ""

echo "[35/45] Per-app frame rate override..."
execute_cmd "settings put global enable_frame_rate_override 0" "FPS override â†’ OFF"
execute_cmd "settings put system match_content_frame_rate 0" "Match content â†’ OFF"
echo ""

echo "[36/45] Disabling FPS limiters..."
execute_cmd "settings put system fps_limit_enabled 0" "FPS limit â†’ OFF"
execute_cmd "settings put system thermal_fps_limit 144" "Thermal limit â†’ 144"
execute_cmd "settings put system touch_boost_fps 144" "Touch boost â†’ 144"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 11: ANIMATION & TRANSITION"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[37/45] Optimizing animations for 144Hz..."
execute_cmd "settings put global window_animation_scale 0.5" "Window anim â†’ 0.5x"
execute_cmd "settings put global transition_animation_scale 0.5" "Transition â†’ 0.5x"
execute_cmd "settings put global animator_duration_scale 0.5" "Animator â†’ 0.5x"
echo ""

echo "[38/45] Optimizing touch response..."
execute_cmd "settings put system touch_sensitivity_mode 1" "Touch sense â†’ High"
execute_cmd "settings put system touch_boost 1" "Touch boost â†’ ON"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 12: POWER & THERMAL MANAGEMENT"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[39/45] Disabling power-based throttling..."
execute_cmd "settings put global low_power_mode 0" "Low power â†’ OFF"
execute_cmd "settings put global battery_saver_enabled 0" "Battery saver â†’ OFF"
execute_cmd "settings put system performance_mode 1" "Performance â†’ ON"
echo ""

echo "[40/45] Thermal management..."
execute_cmd "settings put system thermal_throttling 0" "Thermal throttle â†’ OFF"
execute_cmd "settings put system thermal_refresh_rate_limit 144" "Thermal limit â†’ 144"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 13: TECNO-SPECIFIC SETTINGS"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[41/45] Tecno HiOS display settings..."
execute_cmd "settings put system tecno_display_mode 2" "Tecno mode â†’ 2"
execute_cmd "settings put system tecno_high_refresh 1" "Tecno high RR â†’ ON"
execute_cmd "settings put system tecno_fps_144 1" "Tecno 144Hz â†’ ON"
echo ""

echo "[42/45] Tecno performance boost..."
execute_cmd "settings put system tecno_performance_mode 1" "Tecno perf â†’ ON"
execute_cmd "settings put system tecno_game_boost 1" "Game boost â†’ ON"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 14: SYSTEM PROPERTIES PERSISTENCE"
echo "         (Super AMOLED Color Forcing)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[43A/45] ğŸ”’ Forcing Persistent Color Properties..."
execute_cmd "setprop persist.sys.sf.color_mode 9" "Persist SF color â†’ Vivid (9)"
execute_cmd "setprop persist.sys.sf.color_saturation 1.15" "Persist saturation â†’ 115%"
execute_cmd "setprop persist.sys.sf.native_mode 2" "Persist native â†’ Wide (2)"
execute_cmd "setprop persist.display.color.mode 2" "Persist display â†’ Vivid"
echo ""

echo "[43B/45] ğŸ¨ Vendor Color Properties..."
execute_cmd "setprop persist.vendor.display.color.mode 2" "Vendor color â†’ 2"
execute_cmd "setprop persist.vendor.color.matrix 9" "Color matrix â†’ 9"
execute_cmd "setprop persist.vendor.colorpick_adjust 1" "Color pick â†’ ON"
execute_cmd "setprop ro.vendor.display.vivid 1" "Vivid display â†’ ON"
echo ""

echo "[43C/45] ğŸŒˆ Surface Flinger Wide Color..."
execute_cmd "setprop ro.surface_flinger.use_color_management 1" "SF color mgmt â†’ ON"
execute_cmd "setprop ro.surface_flinger.has_wide_color_display 1" "Wide display â†’ ON"
execute_cmd "setprop ro.surface_flinger.has_HDR_display 1" "HDR display â†’ ON"
execute_cmd "setprop ro.surface_flinger.wcg_composition_dataspace 143261696" "WCG dataspace"
execute_cmd "setprop ro.surface_flinger.default_composition_dataspace 142671872" "Default dataspace"
execute_cmd "setprop ro.surface_flinger.protected_contents true" "Protected â†’ ON"
echo ""

echo "[43D/45] ğŸ’ Display Calibration Properties..."
execute_cmd "setprop persist.sys.display.color 2" "Display color â†’ 2"
execute_cmd "setprop persist.sys.pq.disp.feature 1" "PQ feature â†’ ON"
execute_cmd "setprop persist.sys.pq.disp.sat 1.15" "PQ saturation â†’ 115%"
execute_cmd "setprop persist.sys.pq.adl.idx 2" "ADL index â†’ 2"
echo ""

echo "[43E/45] ğŸ”¥ MTK Display Properties..."
execute_cmd "setprop persist.vendor.mtk.pq.color 2" "MTK PQ color â†’ Vivid"
execute_cmd "setprop persist.vendor.mtk.aal.support 1" "MTK AAL â†’ ON"
execute_cmd "setprop persist.vendor.mtk.colorpick 1" "MTK color pick â†’ ON"
execute_cmd "setprop ro.vendor.mtk_pq_color_mode 2" "MTK color mode â†’ 2"
execute_cmd "setprop ro.vendor.mtk_aal_support 1" "MTK AAL support â†’ ON"
echo ""

echo "[43F/45] ğŸ“± HiOS/Tecno Properties..."
execute_cmd "setprop persist.sys.tecno.color 2" "Tecno color â†’ Vivid"
execute_cmd "setprop persist.sys.tecno.vivid 1" "Tecno vivid â†’ ON"
execute_cmd "setprop ro.hios.display.color 2" "HiOS color â†’ 2"
execute_cmd "setprop ro.hios.display.enhance 1" "HiOS enhance â†’ ON"
echo ""

echo "[43G/45] ğŸ¯ Hardware Composer Color..."
execute_cmd "setprop persist.hwc.color.mode 2" "HWC color â†’ Vivid"
execute_cmd "setprop persist.hwc.colorpick 1" "HWC color pick â†’ ON"
execute_cmd "setprop debug.hwc.colormode 2" "Debug color â†’ 2"
echo ""

echo "[43H/45] ğŸ–¼ï¸ OpenGL/Vulkan Color..."
execute_cmd "setprop persist.graphics.vulkan.disable false" "Vulkan â†’ ON"
execute_cmd "setprop debug.egl.force_msaa 1" "MSAA â†’ ON"
execute_cmd "setprop debug.hwui.use_buffer_age false" "Buffer age â†’ OFF"
execute_cmd "setprop debug.hwui.filter_test_overhead false" "Filter overhead â†’ OFF"
echo ""

echo "[43I/45] ğŸŒŸ Final Forced Wide Color..."
execute_cmd "setprop persist.sys.force_wide_color 1" "Force wide color â†’ ON"
execute_cmd "setprop persist.sys.force_vivid 1" "Force vivid â†’ ON"
execute_cmd "setprop persist.sys.amoled_mode 2" "AMOLED mode â†’ Super"
execute_cmd "setprop debug.sf.enable_gl_backpressure 1" "GL backpressure â†’ ON"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "PHASE 15: SCREEN & DISPLAY MISC"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "[43/45] Screen timeout settings..."
execute_cmd "settings put system screen_off_timeout 600000" "Timeout â†’ 10 min"
execute_cmd "settings put system screen_brightness_mode 1" "Auto brightness â†’ ON"
echo ""

echo "[44/45] Display wake settings..."
execute_cmd "settings put system accelerometer_rotation 1" "Auto-rotate â†’ ON"
execute_cmd "settings put secure doze_enabled 0" "Doze â†’ OFF"
echo ""

echo "[45/45] Final forced configuration..."
execute_cmd "cmd display set-user-preferred-display-mode 0 2" "Force mode 2 (final)"
sleep 1
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ“ CONFIGURATION COMPLETE"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "ğŸ“Š VERIFICATION:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo ""
echo "Display Settings:"
echo "â”œâ”€ Peak RR: $(settings get system peak_refresh_rate 2>/dev/null)"
echo "â”œâ”€ Min RR: $(settings get system min_refresh_rate 2>/dev/null)"
echo "â”œâ”€ User RR: $(settings get system user_refresh_rate 2>/dev/null)"
echo "â”œâ”€ Adaptive: $(settings get system adaptive_refresh_rate 2>/dev/null)"
echo ""
echo "Color Settings:"
echo "â”œâ”€ Color Mode: $(settings get system screen_color_mode 2>/dev/null)"
echo "â”œâ”€ Display Color: $(settings get system display_color_mode 2>/dev/null)"
echo "â”œâ”€ Vivid Mode: $(settings get system vivid_color_mode 2>/dev/null)"
echo "â””â”€ Color Enhancement: $(settings get system color_enhancement 2>/dev/null)"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“± POST-CONFIGURATION STEPS:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. âš¡ LOCK and UNLOCK your device"
echo ""
echo "2. ğŸ¨ Check color vibrancy:"
echo "   â€¢ Open Gallery/Photos"
echo "   â€¢ Browse colorful images"
echo "   â€¢ Colors should be MORE VIVID"
echo "   â€¢ Reds/Blues should POP like Samsung"
echo ""
echo "3. ğŸ® Test 144Hz with vivid colors:"
echo "   â€¢ Chrome browser"
echo "   â€¢ YouTube videos"
echo "   â€¢ Gaming apps"
echo ""
echo "4. âœ… Verify with DevCheck:"
echo "   â€¢ Refresh Rate: 144 Hz"
echo "   â€¢ Color Mode: Wide/Vivid"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ” COLOR VERIFICATION COMMANDS:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "# Check Settings:"
echo "settings get system screen_color_mode"
echo "settings get system display_color_mode"
echo "settings get system vivid_color_mode"
echo ""
echo "# Check System Properties (PERSISTENT):"
echo "getprop persist.sys.sf.color_saturation"
echo "getprop persist.sys.sf.native_mode"
echo "getprop persist.vendor.display.color.mode"
echo "getprop ro.surface_flinger.has_wide_color_display"
echo "getprop persist.sys.force_vivid"
echo ""
echo "# View All Color Props:"
echo "getprop | grep -i color"
echo "getprop | grep -i persist.sys"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ”„ TO RESTORE NATURAL COLORS:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "settings put system screen_color_mode 1"
echo "settings put system display_color_mode 0"
echo "settings put system vivid_color_mode 0"
echo "settings put system color_enhancement 0"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âš ï¸  IMPORTANT NOTES:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ¨ COLOR MODES:"
echo "â€¢ Mode 0 = VIVID (Samsung-like, PUNCHY)"
echo "â€¢ Mode 1 = Natural (Standard, BALANCED)"
echo "â€¢ Mode 2 = sRGB (Accurate, FLAT)"
echo ""
echo "âœ“ 45 comprehensive settings applied"
echo "âœ“ 40+ PERSISTENT system properties set"
echo "âœ“ Super AMOLED color simulation active"
echo "âœ“ DCI-P3 wide color gamut enabled"
echo "âœ“ Settings persist across reboots!"
echo "âœ“ 144Hz + Vivid colors = PREMIUM FEEL"
echo ""
echo "ğŸ”’ PERSISTENT PROPERTIES:"
echo "â€¢ persist.sys.sf.color_saturation â†’ 1.15"
echo "â€¢ persist.sys.sf.native_mode â†’ 2"
echo "â€¢ persist.vendor.display.color.mode â†’ 2"
echo "â€¢ ro.surface_flinger.has_wide_color_display â†’ 1"
echo "â€¢ persist.sys.force_vivid â†’ 1"
echo "â€¢ + 35 more persistent props!"
echo ""
echo "âš¡ Effects you'll notice:"
echo "â€¢ Reds will be MORE VIBRANT"
echo "â€¢ Blues will be DEEPER"
echo "â€¢ Greens will POP MORE"
echo "â€¢ Overall: Samsung Galaxy-like colors!"
echo "â€¢ Colors stay vivid after reboot!"
echo ""
echo "ğŸ”‹ Battery impact:"
echo "â€¢ Vivid colors: ~2-3% more drain"
echo "â€¢ 144Hz: ~5-10% more drain"
echo "â€¢ Combined: ~7-13% total"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸš€ 144Hz + SUPER AMOLED COLORS ACTIVATED!"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Premium Samsung-like experience! ğŸ¨âœ¨"
echo ""